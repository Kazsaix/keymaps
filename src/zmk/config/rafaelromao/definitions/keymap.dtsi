/*
*
* Copyright (c) 2022 Rafael Rom√£o
* SPDX-License-Identifier: MIT
*
*/

#include "config.dtsi"

#include "../features/behaviors.dtsi"
#include "../features/accents.dtsi"
#include "../features/smartcase.dtsi"
#include "../features/swapper.dtsi"
#include "../features/symbols.dtsi"
#include "../features/shortcuts.dtsi"
#include "../features/combos.dtsi"
#include "../features/leader.dtsi"
#if __has_include("../secret.dtsi")
#include "../secret.dtsi"
#endif

/ {
        keymap {
                compatible = "zmk,keymap";
                default_layer {
                        label = "ROMAK";
                        bindings = <
   &kp ESC          &kp F               &kp D               &kp W               &none               &none               &kp L            &kp O            &kp U            &kp BSPC
   &lt MACROS R     &mt LSHFT N         &mt LCTRL S         &mt LGUI T          &kp G               &kp V               &mt RGUI H       &mt RCTRL A      &mt RSHFT E      &lt MACROS I 
   &lt MACROS R     &mt RALT B          &kp C               &mt LALT P          &kp K               &kp J               &mt LALT M       &td_comma        &th_dot 0 0      &lt MACROS I
                                        &sl RAISE           &msl NAV ACCENT     &lt LOWER SPACE     &lt RAISE BSPC      &mm_sc           &sl LOWER
                        >;
                };
                capsword_layer {
                        label = "CASE";
                        bindings = <
   &none            &kp LS(F)           &kp LS(D)           &kp LS(W)           &none               &none               &kp LS(L)        &kp LS(O)        &kp LS(U)        &trans
   &lt MACROS LS(R) &mt LSHFT LS(N)     &mt LCTRL LS(S)     &mt LGUI LS(T)      &kp LS(G)           &kp LS(V)           &mt RGUI LS(H)   &mt RCTRL LS(A)  &mt RSHFT LS(E)  &lt MACROS LS(I) 
   &lt MACROS LS(R) &mt RALT LS(B)      &kp LS(C)           &mt LALT LS(P)      &kp LS(K)           &kp LS(J)           &mt LALT LS(M)   &td_comma        &th_dot 0 0      &lt MACROS LS(I) 
                                        &trans              &msl NAV CASE_AC    &trans              &trans              &ht_sc MEDIA 0   &trans
                        >;
                };
                numpad_layer {
                        label = "NUMPAD";
                        bindings = <
   &trans           &kp F9              &kp F8              &kp F7              &none               &none               &mc_n7           &mc_n8           &mc_n9           &trans
   &none            &mt LSHFT F6        &mt LCTRL F5        &mt LGUI F4         &kp F11             &kp COMMA           &th_n4 RGUI 0    &th_n5 RCTRL 0   &th_n6 RSHFT 0   &lt MACROS DOT 
   &none            &mt RALT F3         &kp F2              &mt LALT F1         &kp F10             &tog NUMPAD         &th_n1 LALT 0    &mc_n2           &mc_n3           &lt MACROS DOT
                                        &trans              &msl NAV F12        &trans              &trans              &th_n0 MEDIA 0   &trans
                        >;
                };
                accents_layer {
                        label = "ACCENT";
                        bindings = <
   &trans           &trans              &kp X               &kp CARET           &none               &none               &ac_otil         &ac_oacu         &ac_uacu         &trans
   &kp GRAVE        &kp DQT             &kp SQT             &kp Z               &trans              &kp Y               &ac_atil         &ac_aacu         &ac_eacu         &ac_iacu 
   &kp GRAVE        &kp Q               &mc_ced             &trans              &kp TILDE           &ac_agrv            &ac_acir         &ac_ocir         &ac_ecir         &ac_iacu
                                        &trans              &trans              &kp SPACE           &kp BSPC            &trans           &trans
                        >;
                };
                case_accents_layer {
                        label = "CASE_AC";
                        bindings = <
   &trans           &trans             &kp LS(X)            &kp CARET           &none               &none               &ac_otil_c       &ac_oacu_c       &ac_uacu_c       &trans
   &kp GRAVE        &kp DQT            &kp SQT              &kp LS(Z)           &trans              &kp LS(Y)           &ac_atil_c       &ac_aacu_c       &ac_eacu_c       &ac_iacu_c 
   &kp GRAVE        &kp LS(Q)          &mc_ced_c            &trans              &kp TILDE           &ac_agrv_c          &ac_acir_c       &ac_ocir_c       &ac_ecir_c       &ac_iacu_c
                                       &trans               &trans              &kp SPACE           &kp BSPC            &trans           &trans
                        >;
                };
                macros_layer {
                        label = "MACROS";
                        bindings = <
   &trans           &kp ESC            &mm_actions          &mm_typematch       &none               &none               &mc_selw         &kp ENTER        &kp TAB          &trans    
   &mm_docs         &th_find LSHFT 0   &mm_run              &mm_debug           &mm_build           &none               &mc_seln         &mm_zh_b         &th_zh LSHFT 0   &none  
   &mm_docs         &mm_recent         &mm_complete         &mm_usages          &mm_refac           &mc_join            &mc_comment      &mm_wt_b         &mm_wt_f         &none
                                       &trans               &th_proj NAV 0      &kp BSPC            &lt HOLD SPACE      &trans           &trans
                        >;
                };
                lower_layer {
                        label = "LOWER";
                        bindings = <
   &trans           &td_lpar           &td_rpar             &mc_caret           &none               &none               &mc_n7           &mc_n8           &mc_n9           &trans
   &th_bti NAV 0    &td_dqo            &td_sqo              &th_and 0 0         &th_or 0 0          &kp COMMA           &mc_n4           &mc_n5           &mc_n6           &lt MACROS DOT  
   &th_bti NAV 0    &td_lbkt           &td_rbkt             &th_qmark 0 0       &mc_tilde           &none               &mc_n1           &mc_n2           &mc_n3           &lt MACROS DOT 
                                       &trans               &trans              &trans              &trans              &th_n0 MEDIA 0   &trans
                        >;
                };
                raise_layer {
                        label = "RAISE";
                        bindings = <
   &trans           &kp F9             &kp F8               &kp F7              &none               &none               &th_curr  0 0    &td_lbrc         &td_rbrc        &trans
   &none            &kp F6             &kp F5               &kp F4              &kp F11             &th_colon 0 0       &th_mins  0 0    &th_eql 0 0      &td_excl        &lt HOLD AT  
   &none            &kp F3             &kp F2               &kp F1              &kp F10             &th_perc 0 0        &th_slash 0 0    &th_lt 0 0       &th_gt 0 0      &lt HOLD AT
                                       &trans               &kp F12             &trans              &trans              &trans           &trans
                        >;
                };
                hold_layer {
                        label = "HOLD";
                        bindings = <
   &trans           &trans             &trans               &trans              &none               &none               &kp BACKSLASH    &trans           &trans          &trans
   &none            &trans             &trans               &trans              &trans              &trans              &kp PLUS         &trans           &trans          &trans  
   &none            &trans             &trans               &trans              &trans              &kp HASH            &kp STAR         &trans           &trans          &trans
                                       &trans               &trans              &trans              &trans              &trans           &trans
                        >;
                };
                fixed_navigation_layer {
                        label = "NAV";
                        bindings = <
   &trans           &kp ESC            &mc_save             &none               &none               &none               &none          &kp PAGE_DOWN      &kp PAGE_UP     &trans
   &none            &sk LSHIFT         &sk LCTRL            &sk LGUI            &none               &tog NAV_F          &kp LEFT       &kp DOWN           &kp UP          &kp RIGHT
   &none            &sk RALT           &none                &sk LALT            &none               &kp INS             &kp DEL        &kp HOME           &kp END         &kp RIGHT
                                       &trans               &trans              &trans              &trans              &trans         &trans
                        >;
                };
                media_layer {
                        label = "MEDIA";
                        bindings = <
   &trans           &kp ESC            &mc_save             &none               &none               &none               &mc_cam        &kp ENTER          &kp TAB         &trans
   &none            &kp LSHIFT         &kp LCTRL            &kp LGUI            &none               &tog NAV_F          &mc_mic        &kp C_VOL_DN       &kp C_VOL_UP    &kp C_MUTE
   &none            &kp RALT           &none                &kp LALT            &none               &tog NUMPAD         &kp C_PP       &kp C_PREV         &kp C_NEXT      &kp C_MUTE
                                       &trans               &mo MAINT           &trans              &trans              &trans         &trans
                        >;
                };
                navigation_layer {
                        label = "NAV";
                        bindings = <
   &trans           &kp ESC            &mc_save             &none               &none               &none               &none          &kp PAGE_DOWN      &kp PAGE_UP     &trans
   &none            &sk LSHIFT         &sk LCTRL            &sk LGUI            &none               &tog NAV_F          &kp LEFT       &kp DOWN           &kp UP          &kp RIGHT
   &none            &sk RALT           &none                &sk LALT            &none               &kp INS             &kp DEL        &kp HOME           &kp END         &kp RIGHT
                                       &trans               &trans              &trans              &trans              &mo MAINT      &trans
                        >;
                };
                lock_layer {
                        label = "LOCK";
                        bindings = <
   &none            &none              &none                &none               &none               &none               &none          &none              &none          &none    
   &none            &none              &none                &none               &none               &none               &none          &none              &none          &none  
   &none            &none              &none                &none               &none               &none               &none          &none              &none          &none 
                                       &none                &trans              &none               &none               &trans         &none
                        >;
                };
                maintenance_layer {
                        label = "MAINT";
                        bindings = <
   &trans           &none              &none                &reset              &none               &none               &reset         &kp LC(LG(Q))      &kp C_SLEEP    &trans
   &none            &none              &none                &none               &bootloader         &bootloader         &none          &none              &tog LOCK_KB   &kp C_POWER 
   &none            &none              &none                &none               &none               &bt BT_CLR          &bt BT_SEL 0   &bt BT_PRV         &bt BT_NXT     &kp C_POWER  
                                       &trans               &trans              &trans              &trans              &trans         &trans
                        >;
                };
        };
};
