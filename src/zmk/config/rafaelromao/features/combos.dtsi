/*
*
* Copyright (c) 2022 Rafael Romão
* SPDX-License-Identifier: MIT
*
*/

/*                KEY POSITIONS

  ╭─────────────────────╮ ╭─────────────────────╮
  │ LTP LTA LTM LTI LTC │ │ RTC RTI RTM RTA RTP │
  │ LHP LHA LHM LHI LHC │ │ RHC RHI RHM RHA RHP │
  │ LBP LBA LBM LBI LBC │ │ RBC RBI RBM RBA RBP │
  ╰───────╮ LT1 LT0 LTH │ │ RTH RT0 RT1 ╭───────╯
          ╰─────────────╯ ╰─────────────╯ */

/ {
    #define COMBO_TERM 50

    #define COMBO(NAME, KEYS, BINDINGS, LAYERS) \
        combo_##NAME { \
            timeout-ms = <COMBO_TERM>; \
            layers = <LAYERS>; \
            key-positions = <KEYS>; \
            bindings = <BINDINGS>; \
        };

    combos {
        compatible = "zmk,combos";

        COMBO(save,      LHA LHM LTH, &mc_save,       ROMAK NUMPAD)
        COMBO(esc,       LTA LTM LTH, &kp ESC,        ROMAK NUMPAD)
        COMBO(esc_save,  LTA LTM,     &mc_save_esc,   NAV)
        COMBO(unds,      LBA LBM,     &kp UNDERSCORE, ROMAK)
        COMBO(z,         LBM LBI,     &kp Z,          ROMAK)
        COMBO(paste_l,   LHM LHI LTH, &mc_paste,      ROMAK NUMPAD)
        COMBO(copy_l,    LBM LBI LTH, &mc_copy,       ROMAK NUMPAD)
        COMBO(fullscr,   LHP LHA LTH, &mc_fullscr,    ROMAK NUMPAD)
        // COMBO(find,       LBP LBA LTH, &mc_find,        ROMAK NUMPAD)
        // COMBO(raise,     LTA LTH,     &sl RAISE,      ROMAK)
        // COMBO(lower,     LTM RTH,     &sl LOWER,      ROMAK)

        COMBO(enter,     RHM RHA RTH, &kp ENTER,      ROMAK NUMPAD)
        COMBO(tab,       RTM RTA RTH, &kp TAB,        ROMAK NUMPAD)
        COMBO(semicolon, RBM RBA,     &kp SEMICOLON,  ROMAK)
        COMBO(p,         RHI RHM,     &kp P,          ROMAK)
        COMBO(x,         RBI RBM,     &kp X,          ROMAK)
        COMBO(paste_r,   RHI RHM RTH, &mc_paste,      ROMAK NUMPAD)
        COMBO(copy_r,    RBI RBM RTH, &mc_copy,       ROMAK NUMPAD)
        COMBO(selall,    RHA RHP RTH, &mc_selall,     ROMAK NUMPAD)
        COMBO(o_esc,     RTM RTA,     &mc_o_esc,      ROMAK)
        // COMBO(undo,      RBA RBP RTH, &mc_undo,       ROMAK NUMPAD)
        // COMBO(lower,     RTA RTH,     &sl LOWER,      ROMAK)
        // COMBO(raise,     RTM RTH,     &sl RAISE,      ROMAK)
        
        COMBO(refresh,   RHM RHA,     &mc_refresh,    MACROS)
    };
};